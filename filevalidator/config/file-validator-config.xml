<file-validator-config>

	<application-name>Test</application-name>
	<archive-recursion-depth>7</archive-recursion-depth>
	
	<modules>
	
		<!-- TODO test - remove -->
		<test-module scanInnerFiles="false">
			<num>1</num>
		</test-module>
		
		<!-- TODO test - remove -->
		<test-module>
			<num>1</num>
		</test-module>

		<!-- File name module -->
		<file-name-module>
			<max-file-name-length>50</max-file-name-length>
			<allowedCharStrips>D C O</allowedCharStrips>						
		</file-name-module>
		
		<!-- Anti Virus module -->
		<anti-virus-module scanInnerFiles="false">
			<anti-virus-path>C:\tmp_rotem\aaa.bat</anti-virus-path>
			<success-rc>0</success-rc>									
		</anti-virus-module>
		
		<!-- File type module -->
		<file-type-module>
			<allowed-types>word jpg application/x-gzip</allowed-types>
			<force-ext-check/>
		</file-type-module>
					
	</modules>
	
	<file-name-generator>
		
		<!-- Censor method -->
		<max-file-name-length>30</max-file-name-length>
		<charStripsToKeep>C O</charStripsToKeep>
						
		<!-- Generation method -->
		<name-pattern>
			<part><strip>C</strip><length>10</length></part>
			<part><strip>D</strip><length>2</length></part>
		</name-pattern>		
	</file-name-generator>
	
	
	<max-file-size>15</max-file-size>
	
	<char-strips>
	
		<!-- Digits -->
		<char-strip stripKey="D">
			<strip>0123456789</strip>
		</char-strip>
		
		<!-- Characters -->
		<char-strip stripKey="C">
			<strip>ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz</strip>		
		</char-strip>
		
		<!-- Others -->
		<char-strip stripKey="O">
			<strip>_-)(</strip>		
		</char-strip>
		
	</char-strips>
	
	
	<!--  TODO - once we have a set of files we should run them through 'tika' and create real types collections -->
	<!--  TODO : what happens if some type (for example 'application/x-tika/ooxml') appears in a couple of different collections with different exts? -->
	<types-collections>
		<types-collection name="word">
			<type allowed-exts="doc">application/msword</type>
			<type allowed-exts="doc">application/x-tika-msoffice</type>
			<type allowed-exts="docx">application/vnd.openxmlformats-officedocument.wordprocessingml.document</type>
			<type allowed-exts="docx">application/x-tika-ooxml</type>
		</types-collection>

		<types-collection name="pdf">
			<type allowed-exts="pdf">application/pdf</type>
		</types-collection>
		
		<types-collection name="JPG">
			<type allowed-exts="jpg,JPEG">image/jpeg</type>
		</types-collection>
		
	</types-collections>
	
</file-validator-config>